<odoo>
  <data>
    <!-- explicit list view definition -->

    <!-- Courses START -->

    <record model="ir.ui.view" id="open_academy.courses_list">
      <field name="name">Open Academy courses list</field>
      <field name="model">open_academy.course</field>
      <field name="arch" type="xml">
        <tree>
          <field name="title" required="1"/>
          <field name="responsible_user" required="1"/>
          <field name="description"/>
          <field name="sessions"/>
          <!-- <button name="confirm" string="Confirm" class="oe_highlight"/> -->
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="open_academy.course_form">
      <field name="name">Open Academy course form</field>
      <field name="model">open_academy.course</field>
      <field name="arch" type="xml">
        <form string="Course form">
          <group colspan="4">
              <group colspan="2" col="2">
                  <separator string="Required" colspan="2"/>
                  <field name="title" required="1"/>
                  <field name="responsible_user" required="1"/>
              
                  <separator string="Optional" colspan="2"/>
                  <field name="description"/>
              </group>

              <notebook colspan="4">
                  <page string="Description">
                      <field name="description" nolabel="1"/>
                  </page>
                  <page string="Sessions">
                      <field name="sessions" nolabel="1">
                        <tree>
                          <field name="name"/>
                        </tree>
                      </field>
                  </page>
                  <page string="Properties">
                      <field name="description" nolabel="1"/>
                  </page>
              </notebook>

          </group>
        </form>
      </field>
    </record>

    <record model="ir.ui.view" id="open_academy.courses_search">
      <field name="name">Open Academy courses search</field>
      <field name="model">open_academy.course</field>
      <field name="arch" type="xml">
        <search>
          <field name="title"/>
          <field name="responsible_user"/>
          <field name="description"/>
        </search>
      </field>
    </record>

    <!-- Courses END -->

    <record model="ir.ui.view" id="open_academy.sessions_list">
      <field name="name">Open Academy sessions list</field>
      <field name="model">open_academy.session</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="start_date"/>
          <!-- <field name="end_date"/> -->
          <field name="duration"/>
          <field name="number_of_seats"/>
          <field name="instructor"/>
          <field name="course"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="open_academy.session_form">
      <field name="name">Open Academy session form</field>
      <field name="model">open_academy.session</field>
      <field name="arch" type="xml">
        <form string="Session form">
          <group colspan="4">
              <group colspan="2" col="2">
                  <separator string="Required fields" colspan="2"/>
                  <field name="name" required="1"/>
                  <field name="start_date" required="1"/>
                  <field name="instructor" required="1"/>
                  <field name="course" required="1"/>
              
                  <separator string="Optional" colspan="2"/>
                  <field name="duration"/>
                  <field name="number_of_seats"/>

                  <notebook colspan="4">
                    <page string="Optional fields">
                        <field name="duration"/>
                        <field name="number_of_seats"/>
                    </page>
                    <page string="Attendees">
                        <field name="attendees" nolabel="1">
                          <tree>
                            <field name="name"/>
                          </tree>
                        </field>
                    </page>
                  </notebook>
              </group>
          </group>
        </form>
      </field>
    </record>

    <record model="ir.ui.view" id="open_academy.new_view">
      <field name="name">Open Academy new view</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='vat']" position="after">
          <field name="is_instructor"/>
          <field name="sessions" string="Attended or attending sessions">
            <tree>
              <field name="name"/>
            </tree>
          </field>
        </xpath>
      </field>
    </record>

    <!-- <record id="open_academy.partner.sessions_list" model="ir.ui.view">
        <field name="name">Open Academy partner sessions list</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="res.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath name="name" position="after">
              <field name="instructor"/>
              <field name="sessions" string="Attended or attending sessions">
                <tree>
                  <field name="name"/>
                </tree>
              </field>
            </xpath>
            <field name="name"/>
        </field>
    </record> -->

    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="open_academy.show_courses">
      <field name="name">Open Academy courses</field>
      <field name="res_model">open_academy.course</field>
      <field name="view_mode">tree,form</field>
    </record>


    <!-- server action to the one above -->

    <record model="ir.actions.act_window" id="open_academy.show_sessions">
      <field name="name">Open Academy sessions</field>
      <field name="res_model">open_academy.session</field>
      <field name="view_mode">tree,form</field>
    </record>


    <!-- Top menu item -->

    <menuitem name="Open Academy" id="open_academy.menu_root"/>

    <!-- menu categories -->

    <menuitem name="Menu" id="open_academy.menu_1" parent="open_academy.menu_root"/>
<!--
    <menuitem name="Menu 2" id="open_academy.menu_2" parent="open_academy.menu_root"/>
-->
    <!-- actions -->

    <menuitem name="Courses list" id="open_academy.menu_1_courses" parent="open_academy.menu_1"
              action="open_academy.show_courses"/>
              
    <menuitem name="Sessions list" id="open_academy.menu_1_sessions" parent="open_academy.menu_1"
              action="open_academy.show_sessions"/>

  </data>
</odoo>